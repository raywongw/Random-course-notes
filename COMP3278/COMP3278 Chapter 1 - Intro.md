
[[COMP3278 Chapter 2 - ER Model|Next Chapter]]
#### Database
- large collection of related data

#### Data
- values refer to real world

#### Database management system (DBMS)
- database + set of programs to store and access data

#### Filesystem vs DBMS
1. difficulty in accessing data
	- Need a new program for each new task
	- Reading a large file takes long time

2. Data redundancy and inconsistency
	- Data may not be updated in all location
	- Multiple formats of data, duplicated around different systems

3. Data isolation
	- Files maybe exist in different formats
	- hard to retrieve
	- Cannot be changed simutaneously

4. Atomicity problem
	- System failures, DB may only complete partial update and leave DB in inconsistent state
	- DBMS ensure the whole operation is done/ rollback the operation

5. Concurrent access anomalies
	- handle programs which allows 2 concurrent transactions at same time

6. Integrity problem
	- Check to have the correct data input to DBMS



### Three powerful concepts supported by DBMS
- [[#Data Abstraction]]
- Data modelling
- Database languages

#### Data Abstraction
##### 3 Level of abstraction
1. Physical level 
	- How data are stored

2. Logical level
	- What data are stored
	- Relationship among data
	- 

3. View level
	- Different dbms support different application
	- Most user does not need access to all info of database
	- simplify users interaction to dbms

##### Schema
- describes the structure of database


### Data Modeling
- describes data in systematic way
- Data model (diagram) -> data instance (actual table)


##### E.g. Bank Customer
Original:
| Account ID | Name | Address | Account Bal. |
| ---------- | ---- | ------- | ------------ |
| 1          | Me   | Ohio    | $0.01        |
| 2          | Me   | Ohio    | $2,000        |
| 3          | You  | Ontario | $100             |

Notice the Name and Address is redundant if there exist a person holding 1 more account
- open 3 table, 1 of account id, 1 of custoner id, 1 of account id and customer id

Customer table:
| Customer ID | Name | Address |
| ----------- | ---- | ------- |
| 1           | Me   | Ohio    |
| 2           | You  | Ontario        |

Account table:
| Account ID | Balance |
| ---------- | ------- |
| 1          | $0.01   |
| 2          | $2,000  |
| 3          | $100        |




### Database Languages
- Data definition language (DDL)
	- Create databases
- Data manipulation language (DML)
	- Select data from databases



## Database Overview
- Complex system



##### File Manager
- Manage allocation of disk space and data structures used to represent info on disk

##### Transaction manager
- ensure database is in a consistent (which is correct) state at system failures
- Ensure all interactions does not break DB

##### Authorization and integrity manager
- check authority of users who access data


##### buffer manager
- decide what data to cache in main memory


##### Disk storage
- stores Data files
	- the database
- Stores data dictionary
	- metadata about the structure of database (mainly schema)
- Stores indices
	- for faster access to data record


##### Query processor
- Converts high level user requests to efficient low level commands to DB
- Consists of 
	- Data definition language interpreter
		- Interpret DDL statements and record definition in data dictionary
	- Data manipulation language compiler
		- Translate DML statements to query language to evaluation plan
			- which are low level instructions that query eval engine know
		- Query optimization - picks lowest cost evaluation form from several plan

##### Query evaluation engine
- executes low-level instruction generated by DML compiler

##### Database Administrator
- Schema definition
- Storage structuring and access method definition
- Grant users authority to access database
- Monitor performance and respond to changes in requirement

### Summary
- Simple filesystems are inadequate for enterprise needs
- Three concept supported by DBMS
	- Data abstraction
	- Data modelling
	- Database language